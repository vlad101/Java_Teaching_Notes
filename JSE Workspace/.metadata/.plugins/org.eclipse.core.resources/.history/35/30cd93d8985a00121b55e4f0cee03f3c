import java.lang.StringBuilder;

class Node
{
	public String value;
	public Node next;
	
	public Node(String val, Node n)
	{
		value = val;
		next = n;
	}
	
	public Node(String val)
	{
		this(val, null);
	}
}

class LinkedList
{
	private Node first;
	private Node last;
	
	public LinkedList()
	{
		first = null;
		last = null;
	}
	
	public boolean isEmpty()
	{
		return (first == null);
	}
	
	public int size()
	{
		int count = 0;
		for(Node ref = first; ref != null; ref = ref.next)
			count++;
		return count;
	}
	
	public void add(String e)
	{
		if(isEmpty())
		{
			first = new Node(e);
			if(isEmpty())
				last = first;
		}
		else
		{
			last.next = new Node(e);
			last = last.next;
		}
	}
	
	public void add(int index, String e)
	{
		if(index < 0 || index > size())
			throw new IndexOutOfBoundsException();
		if(index == 0)
		{
			first = new Node(e, first);
			if(last == null)
				last = first;
		}
		
		else
		{
			Node pred = first;
			for(int i = 1; i <= index - 1; i++)
				pred = pred.next;
			pred.next = new Node(e, pred.next);
			if(pred.next.next == null)
				last = pred.next;
		}
	}
	
	public String remove(int index)
	{
		String temp;
		if(index < 0 || index > size())
			throw new IndexOutOfBoundsException();
		
		if(isEmpty())
			temp = null;			
		
		if(index == 0)
		{
			temp = first.value;
			first = first.next;
			if(first == null)
				last = null;
		}
		
		else
		{
			Node pred = first;
			for(int i = 1; i <= index - 1; i++)
				pred = pred.next;
			temp = pred.next.value;
			pred.next = pred.next.next;
			if(pred.next == null)
				last = pred;
		}
		return temp;
	}
	
	public boolean remove(String e)
	{
		if(isEmpty())
			return false;
		if(first.value.equals(e))
		{
			first = first.next;
			if(first == null)
				last = null;
			return true;
		}
		else
		{
			Node pred;
			for(pred = first; pred.next != null && !(pred.next.value.equals(e)); pred = pred.next)
				pred = pred.next;
			pred.next = pred.next.next;
			if(pred.next == null)
				last = pred;
			return true;	
		}
	}	
	
	public String toString()
	{
		StringBuilder builder = new StringBuilder();
		for(Node ref = first; ref != null; ref = ref.next)
			builder.append(ref.value + " ");
		builder.append("where First: " + first.value + " and "+ "Last: " + last.value);
		return builder.toString();
	}
}

public class PointApp
{
	public static void main(String[] args) 
	{
		LinkedList ll = new LinkedList();
		ll.add(0, "Zero");
		ll.add("One");
		ll.add("Two");
		ll.add("Three");
		System.out.println(ll.toString());
		//ll.remove(0);
		//ll.remove(ll.size() - 1);
		ll.remove("Zero");
		ll.remove("One");
		ll.remove("Three");
		ll.remove("Two");
		System.out.println(ll.toString());
 	}
}
