
public class QuickSortApp 
{
	public static void main(String[] args) 
	{
		int[] values = {6,1,9,4,2,0,1,1};
		for(int element : values)
			System.out.print(element + " ");
		System.out.println();
		quickSort(values);
		for(int element : values)
			System.out.print(element + " ");
	}
	
	public static void quickSort(int[] array)
	{
		doQuickSort(array, 0, array.length - 1);
	}
	
	private static void doQuickSort(int[] array, int start, int end)
	{	
		if(start < end){
			int pivot = partition(array, start, end); // Get the pivot point
			doQuickSort(array, start, pivot - 1); // Sort the first sublist
			doQuickSort(array, pivot + 1, end);  // Sort the second sublist
		}
	}
	
	private static int partition(int[] array, int start, int end)
	{
		int pivot, endOfLeftList, mid;
		mid = (start + end) / 2;    // the middle element is the pivot
		swap(array, start, mid);    // move the pivot to the start of the list
		pivot = array[start];       // save the pivot value for comparisons
		endOfLeftList = start;      // for now, the end of the left sublist is the first element
		for(int i = start + 1; i <= end; i++)// move any values that are less than pivot to the left sublist
		{
			if(array[i] < pivot)
			{
				endOfLeftList++;
				swap(array, endOfLeftList, i);
			}
		}
		
		swap(array, start, endOfLeftList);  // move the pivot value to end of the left sublist
		return endOfLeftList;               // return the subscript of the pivot
	}
	
	private static void swap(int[] array, int a, int b)
	{
		int temp = array[a];
		array[b] = array[b];
		array[b] = temp;
	}
}